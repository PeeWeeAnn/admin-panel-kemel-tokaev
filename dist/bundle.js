(()=>{"use strict";const e=document.querySelector(".form-submit__button"),t=document.querySelectorAll(".form-data-password__button"),l=document.querySelectorAll(".form-data-email__input, .form-data-password__input, .form-data-name__input");if(t.length)for(let e of t)e.addEventListener("click",(t=>{t.preventDefault();const l=t.currentTarget.previousElementSibling;l.focus(),l&&"password"==l.type?(l.type="text",e.children[0].src="../src/img/icons/view.svg"):(l.type="password",e.children[0].src="../src/img/icons/view-hide.svg")}));e?.addEventListener("click",(e=>{if(e.preventDefault(),l){for(let e of l)e.value.length||(e.style.border="1px solid #8f1515",e.addEventListener("focus",(()=>{e.style.border="1px solid #424242"})),e.addEventListener("focusout",(()=>{e.style.border="1px solid #cecfd2"})));const e=document.querySelectorAll(".form-data-password__input");if(2===e.length&&e[0].value!==e[1].value){const t=document.querySelector(".validation-message-passwords");t&&(t.style.display="block");for(let l of e)l.value.length&&l.addEventListener("focus",(()=>{t.style.display="none"}))}}}));const o=document.querySelector(".button-close-preview"),n=document.querySelector(".preview"),d=document.getElementById("previewButtonSectionCreativity"),s=document.getElementById("previewButtonSectionWord"),i=document.getElementById("previewButtonGalleryFilm"),a=document.getElementById("previewButtonGalleryInterview"),c=document.getElementById("previewButtonGalleryPhoto"),r=document.getElementById("previewButtonHome"),y=document.getElementById("previewSectionCreativity"),u=document.getElementById("previewSectionWord"),m=document.getElementById("previewGalleryPhoto"),p=document.getElementById("previewGalleryInterview"),f=document.getElementById("previewGalleryFilm"),v=document.getElementById("previewHome");d?.addEventListener("click",(()=>{y.style.display="flex"})),s?.addEventListener("click",(()=>{u.style.display="flex"})),c?.addEventListener("click",(()=>{m.style.display="flex"})),a?.addEventListener("click",(()=>{p.style.display="flex"})),i?.addEventListener("click",(()=>{f.style.display="flex"})),r?.addEventListener("click",(()=>{v.style.display="flex"})),o?.addEventListener("click",(()=>{n.style.display="none"}));const g=document.querySelectorAll(".button-edit"),E=e=>{e.preventDefault(),(e=>{const t=e.target.parentElement.parentElement.children[1];t.disabled&&(t.disabled=!t.disabled),w()})(e)},w=()=>{const e=document.querySelectorAll(".save-all");g.length&&(g.forEach((e=>{e.parentElement.children[1].disabled?e.style.display="block":e.style.display="none",e.addEventListener("click",E)})),e.length&&e.forEach((e=>{e.addEventListener("click",(()=>{g.forEach((e=>{const t=e.parentElement.children[1];t.disabled||(t.disabled=!t.disabled),t.disabled?e.style.display="block":e.style.display="none"}))}))})))};w();const h=document.querySelectorAll(".modal"),L=document.querySelectorAll(".button-close-modal"),b=document.querySelectorAll(".button-download-photo"),S=document.querySelectorAll(".button-download-file"),q=document.getElementById("modalPhoto"),B=document.getElementById("modalFile"),k=document.getElementById("modalQuotePhoto"),x=(document.getElementById("modalPhotoCover"),document.getElementById("modalPhotoPrinted")),I=document.getElementById("modalFileAudio"),_=document.getElementById("modalPhotoPrintedKz"),A=document.getElementById("modalFileAudioKz");b&&b.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),e.classList.contains("button-download-photo-quote")?(k.style.display="flex",console.log("Загрузка фото к цитате")):e.classList.contains("button-download-photo-cover")?(x.style.display="flex",console.log("Загрузка обложки")):q.style.display="flex"}))})),S.length&&S.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),e.classList.contains("button-download-file-audio")?(I.style.display="flex",console.log("Загрузка аудиоверсии")):e.classList.contains("button-download-file-audio-kz")?(A.style.display="flex",console.log("Загрузка KZ аудиоверсии")):e.classList.contains("button-download-file-printed")?(x.style.display="flex",console.log("Загрузка печатной версии")):e.classList.contains("button-download-file-printed-kz")?(_.style.display="flex",console.log("Загрузка KZ печатной версии")):B.style.display="flex"}))})),L.length&&L.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),h.forEach((e=>{e.style.display="none"}))}))}));const P=document.querySelectorAll(".upload-photo-wrapper > input"),T=document.querySelectorAll(".upload-file-wrapper > input");P.length&&P.forEach((e=>{e?.addEventListener("change",(t=>{const l=q.querySelector(".modal-information"),o=q.querySelector(".modal-loading"),n=q.querySelector(".modal-uploaded"),d=q.querySelector(".modal-loading-progress-bar__filled"),s=n.querySelector(".modal-uploaded img"),i=q.querySelector(".modal-uploaded__button"),a=q.querySelector(".button-close-modal"),[c]=e.files;if(c){const e=document.createElement("img");e.src=URL.createObjectURL(c),e.classList?.add("photo-preview");const t=document.querySelectorAll(".home-content-block-form");t[5]?.append(e),t[7]?.append(e),s.src=URL.createObjectURL(c)}l.style.display="none",o.style.display="flex",d.classList?.remove("finished"),window.setTimeout((()=>{d.classList.add("finished")}),800),window.setTimeout((()=>{o.style.display="none",n.style.display="flex"}),2e3),window.setTimeout((()=>{o.style.display="none",n.style.display="flex"}),2e3),i.addEventListener("click",(()=>{n.style.display="none",q.style.display="none",l.style.display="grid"})),a.addEventListener("click",(()=>{n.style.display="none",q.style.display="none",l.style.display="grid"}))}))})),T.length&&T.forEach((e=>{e?.addEventListener("change",(e=>{const t=B.querySelector(".modal-information"),l=B.querySelector(".modal-loading"),o=B.querySelector(".modal-loaded"),n=B.querySelector(".modal-loading-progress-bar__filled"),d=B.querySelector(".button-close-modal");t.style.display="none",l.style.display="flex",n.classList?.remove("finished"),window.setTimeout((()=>{n.classList.add("finished")}),800),window.setTimeout((()=>{l.style.display="none",o.style.display="flex"}),2e3),window.setTimeout((()=>{l.style.display="none",o.style.display="flex"}),2e3),d.addEventListener("click",(()=>{console.log("close")})),L.length&&L.forEach((e=>{e.addEventListener("click",(e=>{o.style.display="none",q.style.display="none",t.style.display="grid"}))}))}))}))})();